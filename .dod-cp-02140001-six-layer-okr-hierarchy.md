---
id: dod-six-layer-okr
version: 1.0.0
created: 2026-02-14
updated: 2026-02-14
changelog:
  - 1.0.0: 初始版本
---

# DoD: 6-Layer OKR Architecture

## Acceptance Criteria

- [ ] Migration 029 SQL created and applies cleanly
- [ ] selfcheck.js EXPECTED_SCHEMA_VERSION = '029'
- [ ] planner.js uses new type values (global_okr/area_okr/kr)
- [ ] actions.js: createFeature → createInitiative, createProject added
- [ ] executor.js: /okr prompt updated, resolveRepoPath supports project_repos
- [ ] okr-tick.js: uses cecelia-bridge (3457)
- [ ] routes.js: create-initiative endpoint works
- [ ] Broken views fixed (pr_plan_full_context, initiative_pr_progress)
- [ ] selfcheck.test.js updated to expect '029'
- [ ] planner.test.js uses new type values
- [ ] All existing tests pass (npx vitest run)
- [ ] facts-check passes (node scripts/facts-check.mjs)
- [ ] version-sync passes (bash scripts/check-version-sync.sh)
- [ ] DEFINITION.md updated to 6-layer architecture
- [ ] Version bumped (minor: 1.34.0)
