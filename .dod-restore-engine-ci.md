---
id: dod-restore-engine-ci
version: 1.0.0
created: 2026-02-25
updated: 2026-02-25
changelog:
  - 1.0.0: 初始版本
---

# DoD: 恢复 Engine CI 严格检查到 Monorepo

## 验收清单

### CI Workflow 恢复
- [ ] Engine CI 包含 DevGate 四重检查（脚本存在性 + DoD映射 + P0/P1 RCI + RCI覆盖率）
- [ ] Engine CI 包含 Known-Failures Protection（P0）
- [ ] Engine CI 包含 Config Audit（P1）
- [ ] Engine CI 包含 Impact Check（P0-1）
- [ ] Engine CI 包含 Contract Drift Check
- [ ] Engine CI 包含 Evidence Gate
- [ ] Engine CI 包含 PRD/DoD Gate
- [ ] Engine CI 包含 TypeCheck + Build

### CI 触发统一
- [ ] Engine CI PR 触发无 paths filter（内部用 paths-filter action）
- [ ] Workspace CI PR 触发无 paths filter（内部用 paths-filter action）
- [ ] 三个 CI 都有 gate job，非相关变更快速 pass

### 分支保护
- [ ] Required checks 包含所有 gate job
- [ ] 非相关变更 PR 所有 required check 都能 pass

### 路径适配
- [ ] 所有脚本路径从旧仓库格式更新到 monorepo 格式
- [ ] CI 中引用的所有文件路径正确

### 验证
- [ ] 本地 `bash -n` 检查 CI yml 语法
- [ ] 提交 PR 后 CI 全部通过
