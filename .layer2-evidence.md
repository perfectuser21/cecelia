# L2 Evidence - 完善 CI 规则：正确检测 PR 标题类型

## 手动验证

### S1: Workflow 修改验证

**修改内容**:
```bash
$ git diff develop .github/workflows/ci.yml | grep -E "pull_request.title|head_commit.message"
```

**Version Check 修改**:
```yaml
# Before:
!startsWith(github.event.head_commit.message, 'chore:')

# After:
!startsWith(github.event.pull_request.title, 'chore:')
```

**L2A Check 修改**:
```yaml
# Before:
!startsWith(github.event.head_commit.message, 'chore:')

# After:
!startsWith(github.event.pull_request.title, 'chore:')
```

### S2: 测试计划

**本 PR 将验证**:
- 使用 `github.event.pull_request.title` 是否能正确检测 PR 标题
- CI 是否会跳过本 PR 的 L2A/Version 检查（如果标题是 chore:/docs:/test:）

**后续验证**（下一个cleanup PR）:
- 创建标题为 "chore: cleanup ..." 的 PR
- 验证 CI 确实跳过了 L2A Check 和 Version Check

## 自动化测试

### C1: RCI + CI 测试

**本地测试**:
```bash
$ npm test
Test Files  15 passed (15)
Tests  180 passed | 20 skipped (200)
```

**质检门控**:
```bash
$ npm run qa:gate
✅ typecheck passed
✅ test passed (180 tests)
✅ build success
```

HTTP_STATUS: 200
