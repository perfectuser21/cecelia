# PRD: 补齐 Quality CI + Workflows CI

## 背景

Monorepo 有 5 个包，目前只有 3 个有 CI（Brain、Engine、Workspace）。
Quality 和 Workflows 两个包完全没有 CI 覆盖，需要补上。

## 目标

为 `packages/quality` 和 `packages/workflows` 各创建一个 GitHub Actions CI workflow，
与现有 Brain/Engine/Workspace CI 保持统一模式。

## 范围

### Quality CI (quality-ci.yml)

6 个 Job：
1. **changes** - dorny/paths-filter 检测 packages/quality/**
2. **quality-check** - 结构验证（目录、VERSION、skills、contracts）
3. **test** - npm ci + vitest run
4. **lint** - shell 脚本 bash -n 语法检查 + shellcheck advisory
5. **docs** - 文档完整性（README、CHANGELOG、docs/*.md）
6. **ci-passed** - gate job，非 quality 变更秒过

### Workflows CI (workflows-ci.yml)

5 个 Job：
1. **changes** - dorny/paths-filter 检测 packages/workflows/**
2. **validate** - JSON/YAML 合法性 + shell 脚本语法
3. **structure** - 目录结构 + agent SKILL.md + 关键文件
4. **gateway-check** - node --check gateway/ai-gateway.cjs
5. **ci-passed** - gate job，非 workflows 变更秒过

## 成功标准

1. 两个 CI 文件 YAML 语法正确
2. 所有引用的文件/目录实际存在
3. 与现有 CI 统一模式（push paths、PR 全触发、dorny、concurrency、gate job）
4. PR 提交后 5 个 CI 全部通过

## 不做什么

- 不修改现有 Brain/Engine/Workspace CI
- 不修改包内代码
- 不添加新的 DevGate 脚本
