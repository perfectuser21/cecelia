---
id: prd-proactive-cecelia-ui-phase1
version: 1.0.0
created: 2026-02-26
updated: 2026-02-26
changelog:
  - 1.0.0: 初始版本
---

# PRD: 主动式 Cecelia UI — Phase 1

## 背景

Cecelia 后端已有完整的 6 层意识管道（感知→记忆→反思→反刍→欲望→表达），但前端仍然是被动的监控仪表盘 + 聊天框。

Phase 1 目标：让 Cecelia 从"你说她回"变成"她主动汇报、你一键决策"。

设计文档：`docs/design-proactive-cecelia-ui.md`

## 改动范围

### 后端（Brain API 新增）

1. **GET /api/brain/desires** — 查询 desires 列表（可按 status 过滤）
2. **POST /api/brain/desires/:id/acknowledge** — 用户确认/否决 desire
3. **GET /api/brain/inner-life** — 聚合数据：perception 信号 + accumulator + 最近洞察 + 欲望队列 + 反刍状态

### 前端（CeceliaPage 重构）

1. **VoiceCard 组件** — 展示 desire:expressed + briefing + 反刍洞察
   - 数据源：GET /api/brain/briefing + WebSocket desire:expressed
   - 交互：propose→[同意][换一个]，warn→[处理][知道了]，inform/celebrate→自动淡出
   - 始终提供 [对话] 按钮

2. **DecisionInbox 组件** — 展示 pending desires/decisions，inbox zero 目标
   - 数据源：GET /api/brain/desires?status=pending + GET /api/brain/decisions?status=pending
   - 操作：批准/打回/推迟，调用 POST /api/brain/desires/:id/acknowledge

3. **StatusBar 组件** — 替代 PulseStrip，一行展示生命体征
   - 在线状态 + 反刍进度(N/10) + 反思累积(N/30) + 警觉等级 + 今日统计
   - 数据源：GET /api/brain/health + GET /api/brain/inner-life + WebSocket tick:executed

4. **布局重组** — CeceliaPage 从三列网格改为上下线性布局
   - StatusBar → VoiceCard → DecisionInbox → [RunningTasks | InnerLife预留] → ActivityFeed → QuickActions

## 成功标准

1. 用户打开页面，不说话就能看到 Cecelia 的主动表达（VoiceCard 有内容）
2. 待决策项出现在 DecisionInbox，用户可一键批准/打回
3. StatusBar 展示反刍进度和反思累积（后端已有数据）
4. 所有组件通过 WebSocket 实时更新
5. npm test 全部通过
