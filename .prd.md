---
id: merge-zenithjoy-into-cecelia
version: 1.0.0
created: 2026-02-05
updated: 2026-02-05
changelog:
  - 1.0.0: 初始版本
---

# PRD: 合并 zenithjoy-core → cecelia-core

## 背景

zenithjoy-core (`~/dev/`) 和 cecelia-core (`~/perfect21/cecelia/core/`) 是两个独立仓库，功能互补但维护成本高。合并后统一为一个仓库。

## 目标

将 zenithjoy-core 的前端 features 和后端 platform 服务合并到 cecelia-core，然后归档 zenithjoy-core。

## 需求

### 1. 复制 14 个前端 Feature 目录

从 `~/dev/features/` 复制到 `frontend/src/features/core/`：

canvas, cecelia, claude-monitor, company, dev-panorama, devgate, engine, n8n, ops, panorama, portfolio, tasks, vps-monitor, workers

### 2. 注册 14 个新 Feature

在 `frontend/src/features/core/index.ts` 的 `coreFeatures` 中添加 14 个 lazy-load 入口。

### 3. 移入 Express Platform 后端

将 `~/dev/src/` 下 10 个模块（dashboard, dev, devgate, engine, github, panorama, shared, viz, workers, index.ts）移到 `platform/` 目录，含独立 package.json 和 tsconfig.json。

### 4. 移入辅助文件

- `~/dev/data/` → `data/`
- `~/dev/workflows/` → `workflows/`
- `~/dev/packages/` → `packages/`
- `~/dev/scripts/` → `scripts/`（不覆盖已有）

### 5. Docker Compose 添加 Platform 服务

新增 `cecelia-platform` 服务（端口 5211）。

### 6. Vite Proxy 更新

在 `/api/brain` 规则之后、catch-all `/api` 之前，添加 platform API 代理规则。

## 不做

- 不动 shared/（cecelia-core 已是超集）
- 不动 brain/（保持职责分离）
- 不改 Feature Registry 模式
- 不删 GitHub 上的 zenithjoy-core（只归档）

## 验收标准

- [ ] `npm run build` 编译成功
- [ ] `npm run dev` 启动后 20 个 feature 可加载
- [ ] Brain API 正常：`curl localhost:5221/api/brain/status`
