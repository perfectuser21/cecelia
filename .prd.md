## PRD - 修复免疫系统 P0 断链

**需求来源**: 免疫系统审计发现 6 个关键链路断裂，现修复优先级最高的 3 个

**功能描述**:
修复 Brain 免疫系统的 3 个 P0 级别断链，让失败处理、熔断恢复、资源隔离形成完整闭环：

1. **Systemic failure 检测 BUG**: `classifyFailure()` 永远不返回 SYSTEMIC，导致 alertness 检测不到系统性故障
2. **Circuit breaker 成功不恢复**: `recordSuccess()` 从未被调用，熔断后卡在 HALF_OPEN 永不回 CLOSED
3. **Watchdog kill 不隔离**: 进程被杀 → 重入队列 → failure_count 重置为 0 → 无限循环

**涉及文件**:
- `brain/src/quarantine.js` - 修复 classifyFailure() 的 SYSTEMIC 分支
- `brain/src/tick.js` - 在成功路径调用 recordSuccess()，watchdog kill 继承 failure_count
- `brain/src/executor.js` - watchdog kill 时保留 failure_count
- `brain/src/__tests__/quarantine.test.js` - 添加 SYSTEMIC 分类测试
- `brain/src/__tests__/circuit-breaker.test.js` - 添加成功恢复测试
- `brain/src/__tests__/tick.test.js` - 添加 watchdog kill 隔离测试

**成功标准**:
1. 人为注入 3 次同类网络错误 → classifyFailure() 返回 SYSTEMIC → alertness 升级到 ALERT
2. 熔断后任务成功 → recordSuccess() 被调用 → 电路回到 CLOSED
3. 任务被 watchdog 杀死 2 次 → 第 3 次自动隔离（不会无限重试）
4. 所有新增测试通过
5. CI 通过

**非目标**:
- 不修复 P1/P2 断链（Token bucket、失败分类使用、隔离自动释放）
- 不重构整个免疫系统架构
- 不添加新的免疫能力
