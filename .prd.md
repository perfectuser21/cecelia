---
id: prd-brain-consolidation-m3
version: 1.0.0
created: 2026-01-29
updated: 2026-01-29
changelog:
  - 1.0.0: M3 OKR CRUD è¿ç§»
---

# PRD: M3 OKR CRUD Migration

## ğŸ“‹ é¡¹ç›®ä¿¡æ¯

| é¡¹ç›® | ä¿¡æ¯ |
|------|------|
| **åç§°** | Brain Consolidation - M3 |
| **ç›®æ ‡ä»“åº“** | cecelia-semantic-brain |
| **æºä»“åº“** | cecelia-workspace/apps/core/src/brain |
| **æŠ€æœ¯æ ˆ** | Python + FastAPI + asyncpg |

---

## ğŸ¯ ç›®æ ‡

**M3: è¿ç§» OKR CRUD åŠŸèƒ½**

### æœ¬æ¬¡ PR èŒƒå›´

1. **Goals æ¨¡å—**
   - list_objectives() - åˆ—å‡ºæ‰€æœ‰ç›®æ ‡
   - list_key_results() - åˆ—å‡º KR
   - get_goal() - è·å–å•ä¸ªç›®æ ‡è¯¦æƒ…
   - get_objective_with_tasks() - è·å–ç›®æ ‡åŠå…¶ä»»åŠ¡
   - delete_goal() - åˆ é™¤ç›®æ ‡
   - update_objective_progress() - æ›´æ–°ç›®æ ‡è¿›åº¦
   - get_goals_summary() - ç›®æ ‡ç»Ÿè®¡

2. **API è·¯ç”±**
   - GET /api/brain/goals - åˆ—å‡ºç›®æ ‡
   - GET /api/brain/goals/:id - è·å–ç›®æ ‡è¯¦æƒ…
   - GET /api/brain/goals/:id/key-results - è·å– KR
   - DELETE /api/brain/goals/:id - åˆ é™¤ç›®æ ‡
   - POST /api/brain/goals/:id/recalculate - é‡ç®—è¿›åº¦
   - GET /api/brain/goals/summary - ç»Ÿè®¡æ‘˜è¦

---

## ğŸ“¦ æ¶‰åŠæ–‡ä»¶

### æ–°å¢

| æ–‡ä»¶ | åŠŸèƒ½ |
|------|------|
| `src/state/goals.py` | OKR CRUD é€»è¾‘ |
| `tests/test_goals.py` | Goals å•å…ƒæµ‹è¯• |
| `tests/test_goals_api.py` | Goals API æµ‹è¯• |

### ä¿®æ”¹

| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ |
|------|----------|
| `src/state/__init__.py` | å¯¼å‡º goals æ¨¡å— |
| `src/api/state_routes.py` | æ·»åŠ  Goals è·¯ç”± |

---

## âœ… æˆåŠŸæ ‡å‡†

- [ ] list_objectives() æ­£å¸¸å·¥ä½œ
- [ ] list_key_results() æ­£å¸¸å·¥ä½œ
- [ ] get_goal() æ­£å¸¸å·¥ä½œ
- [ ] get_objective_with_tasks() æ­£å¸¸å·¥ä½œ
- [ ] delete_goal() æ­£å¸¸å·¥ä½œ
- [ ] update_objective_progress() æ­£å¸¸å·¥ä½œ
- [ ] get_goals_summary() æ­£å¸¸å·¥ä½œ
- [ ] æ‰€æœ‰ API ç«¯ç‚¹æ­£å¸¸
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡

---

## ğŸ”— ä¾èµ–

- M1 å·²å®Œæˆï¼ˆæ•°æ®åº“è¿æ¥ + Focusï¼‰
- M2 å·²å®Œæˆï¼ˆTick + Actionsï¼‰
- goals è¡¨
