---
id: add-regression-contract
version: 1.0.0
created: 2026-01-29
updated: 2026-01-29
changelog:
  - 1.0.0: 初始版本
---

# PRD: 添加 Regression Contract

## 背景

cecelia-semantic-brain 缺少标准化的回归测试契约 (RCI)，导致：
- 无法与其他仓库保持一致的质检标准
- QA-DECISION.md 中的 RCI 部分为空
- 缺乏对核心 API 的回归测试定义

## 目标

创建 `docs/regression-contract.yaml`，定义 Brain 服务的所有关键 RCI：

| ID | 功能 | 优先级 |
|----|------|--------|
| B1-001 | Brain API 健康检查 | P0 |
| B1-002 | 语义搜索 /fusion | P0 |
| B1-003 | Parser API /parse | P1 |
| B1-004 | Scheduler API /schedule | P1 |
| B1-005 | Execution Planner /plan | P1 |
| B1-006 | Detector API /detector/* | P1 |
| B1-007 | Agent Monitor API /api/agents/* | P1 |
| B1-008 | Patrol API /api/patrol/* | P1 |
| B1-009 | Brain State API /api/brain/* | P2 |

## 范围

- `docs/regression-contract.yaml` (新建)
- `docs/QA-DECISION.md` (更新 RCI 引用)

## 验收标准

1. regression-contract.yaml 包含所有 9 个 RCI
2. 每个 RCI 有完整的 id, name, priority, method, steps, evidence
3. QA-DECISION.md 更新引用新的 RCI
