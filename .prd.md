# PRD: 修复 memory/search — 纳入 capabilities 向量搜索

## 功能描述

`/api/brain/memory/search` 目前永远返回空，因为 `vectorSearch()` 只查询 `tasks` 表，而当前 tasks 表无 embedding。capabilities 表有 25 条完整 embedding 却完全没有被搜索。

## 目标

在 `similarity.js` 的 `vectorSearch()` 中加入 capabilities 查询，使语义搜索能正确命中能力知识库。

## 验收标准

- `POST /api/brain/memory/search` 对语义查询返回相关 capability
- 查询"熔断 保护"应能找到"熔断保护系统"（score > 0.5）
- capabilities 结果和 tasks 结果合并排序返回
- 无 embedding 的 capabilities 自动跳过
