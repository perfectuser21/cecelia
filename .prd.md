---
id: cylia-realtime-orchestrator
version: 1.0.0
created: 2026-01-29
updated: 2026-01-29
changelog:
  - 1.0.0: 初始版本
---

## PRD - Cylia Realtime Voice + Orchestrator Tool

**需求来源**: 用户需要 Cylia 语音助手能通过语音触发 Orchestrator 执行任务

**功能描述**:
1. OpenAI Realtime WebSocket 代理 - 让前端能连接 OpenAI Realtime API
2. run_orchestrator tool - 让 Cylia 能调用无头 Claude Code 执行任务
3. 数据库查询 tools - get_okrs, get_projects, get_tasks, open_detail

**涉及文件**:
- src/api/orchestrator_routes.py（修改 - 添加 WebSocket 代理和 tools）

**成功标准**:
- [ ] 前端可以通过 WebSocket 连接到 /orchestrator/realtime/ws
- [ ] WebSocket 代理正确转发音频到 OpenAI Realtime API
- [ ] Cylia 可以调用 get_okrs, get_projects, get_tasks 查询数据
- [ ] Cylia 可以调用 open_detail 打开详情面板
- [ ] Cylia 可以调用 run_orchestrator 触发无头 Claude Code
- [ ] run_orchestrator 正确执行 /orchestrator skill
