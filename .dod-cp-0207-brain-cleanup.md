## DoD - Brain 旧模块清理

### 验收清单

| # | 验收条件 | Test |
|---|----------|------|
| 1 | 删除 8 个旧文件: prd-queue.js, planner-llm.js, perception.js, orchestrator.js, self-diagnosis.js, decomposer.js, hk-bridge.js, minimax-executor.js | `ls brain/src/{prd-queue,planner-llm,perception,orchestrator,self-diagnosis,decomposer,hk-bridge,minimax-executor}.js 2>&1 \| grep -c "No such file" = 8` |
| 2 | routes.js 中无被删模块的 import | `grep -c "from.*\.\/(prd-queue\|planner-llm\|perception\|orchestrator\|self-diagnosis\|decomposer\|hk-bridge\|minimax-executor)" brain/src/routes.js = 0` |
| 3 | planner.js 删除 autoGenerateTask 和 KR_STRATEGIES | `grep -c "autoGenerateTask\|KR_STRATEGIES\|getFallbackTasks" brain/src/planner.js = 0` |
| 4 | 所有现有测试通过 | `npm test` in brain/ exits 0 |
| 5 | Brain 容器启动通过 selfcheck | `docker compose up -d && curl localhost:5221/api/brain/health returns healthy` |
| 6 | facts-check 通过 | `node scripts/facts-check.mjs` exits 0 |
| 7 | 无残留 import（其他文件不引用被删文件） | `grep -r "from.*\.\/(prd-queue\|planner-llm\|perception\|orchestrator\|self-diagnosis\|decomposer\|hk-bridge\|minimax-executor)" brain/src/ = 0` |
