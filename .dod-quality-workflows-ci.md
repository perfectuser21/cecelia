# DoD: 补齐 Quality CI + Workflows CI

## 验收清单

- [ ] `.github/workflows/quality-ci.yml` 存在且 YAML 语法正确
  - Test: `python3 -c "import yaml; yaml.safe_load(open('.github/workflows/quality-ci.yml'))"`
- [ ] `.github/workflows/workflows-ci.yml` 存在且 YAML 语法正确
  - Test: `python3 -c "import yaml; yaml.safe_load(open('.github/workflows/workflows-ci.yml'))"`
- [ ] Quality CI 有 6 个 job: changes, quality-check, test, lint, docs, ci-passed
  - Test: `grep -c 'name:' .github/workflows/quality-ci.yml` 应 >= 6
- [ ] Workflows CI 有 5 个 job: changes, validate, structure, gateway-check, ci-passed
  - Test: `grep -c 'name:' .github/workflows/workflows-ci.yml` 应 >= 5
- [ ] 两个 CI 使用 dorny/paths-filter 做路径检测
  - Test: `grep 'dorny/paths-filter' .github/workflows/quality-ci.yml .github/workflows/workflows-ci.yml`
- [ ] 两个 CI 的 gate job 非相关变更自动通过
  - Test: CI 文件中 ci-passed job 包含 `!= "true"` 快速跳过逻辑
- [ ] Quality CI 引用的所有目录/文件存在
  - Test: 检查 hooks/, scripts/devgate/, skills/, contracts/ 等
- [ ] Workflows CI 引用的所有文件存在
  - Test: 检查 workflow-registry.json, capability_mapping.json, workers.config.json, ai-gateway.cjs
- [ ] 与现有 CI 统一模式（push paths, PR 全触发, concurrency, gate job）
  - Test: 对比 brain-ci.yml 的结构模式
- [ ] PR 提交后所有 5 个 CI 通过
  - Test: `gh pr checks` 全绿
