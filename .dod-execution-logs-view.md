# DoD - 执行日志查看页面

QA: docs/QA-DECISION.md

## 验收标准

### 功能验收

#### 后端 API
- [ ] GET /api/brain/tasks/:taskId/logs 返回任务日志内容
      Test: manual:使用 curl 测试 API 端点返回日志内容
- [ ] GET /api/brain/tasks/:taskId/checkpoints 返回任务 checkpoint 信息
      Test: manual:使用 curl 测试 API 返回 checkpoint 数据
- [ ] GET /api/brain/tasks 返回任务列表（验证是否已存在）
      Test: manual:curl 验证任务列表 API
- [ ] 日志 API 支持分页（offset/limit 参数）
      Test: manual:curl 测试带参数的请求
- [ ] 日志 API 能读取 /tmp/cecelia-*.log 文件
      Test: manual:验证日志文件路径读取

#### 前端页面
- [ ] 新增 ExecutionLogsPage.tsx 页面组件
      Test: manual:浏览器访问 /execution-logs 验证页面显示
- [ ] App.tsx 添加 /execution-logs 路由
      Test: manual:验证路由跳转正常
- [ ] 页面左侧显示任务列表（ID、标题、状态、类型）
      Test: manual:在页面上查看任务列表显示
- [ ] 页面右侧显示选中任务的日志详情
      Test: manual:点击任务验证日志显示
- [ ] 任务列表支持按状态筛选（queued/running/completed/failed）
      Test: manual:在页面上测试筛选功能（按状态、类型）
- [ ] 任务列表支持按类型筛选（dev/automation/qa/audit）
      Test: manual:在页面上测试类型筛选

#### 实时更新
- [ ] 运行中任务的日志能够实时更新（WebSocket 或 30 秒轮询）
      Test: manual:选中运行中任务，验证日志实时更新
- [ ] 日志内容自动滚动到底部（可选关闭）
      Test: manual:验证自动滚动功能

#### 用户体验
- [ ] 页面支持暗色模式（使用现有 Tailwind 配置）
      Test: manual:切换暗色模式验证样式正确
- [ ] 日志内容支持文本搜索（Ctrl+F 或页面内搜索）
      Test: manual:测试搜索功能和下载按钮
- [ ] 日志内容支持下载为 .txt 文件
      Test: manual:点击下载按钮验证文件下载
- [ ] 页面响应式设计（移动端友好）
      Test: manual:缩小浏览器窗口测试响应式布局

### 测试验收
- [ ] npm run qa 通过
      Test: contract:C2-001
- [ ] 前端开发服务器能正常启动并显示页面
      Test: manual:本地启动验证
- [ ] API 端点能正常返回数据
      Test: manual:curl 验证
