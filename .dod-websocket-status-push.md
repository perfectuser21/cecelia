# DoD - WebSocket 状态推送

QA: docs/QA-DECISION.md

## 验收标准

### 功能验收
- [ ] 前端连接 WebSocket 后能收到任务状态推送
      Test: manual:启动服务,打开浏览器控制台验证收到消息
- [ ] 任务从 queued → running → completed 全程实时显示
      Test: manual:创建任务观察前端状态变化
- [ ] 断网后重连能恢复接收推送
      Test: manual:重启Brain服务验证客户端自动重连
- [ ] 多客户端同时连接正常工作
      Test: manual:打开2个浏览器窗口验证都收到推送
- [ ] ExecutionStatusPanel 使用 WebSocket 数据不再轮询
      Test: manual:检查前端代码确认移除轮询逻辑

### 技术验收
- [ ] WebSocket 服务器启动并监听
      Test: manual:检查Brain日志确认WebSocket服务启动
- [ ] 任务创建时发送 task:created 事件
      Test: manual:浏览器控制台观察WebSocket消息
- [ ] 任务状态变化时发送对应事件
      Test: manual:浏览器控制台观察状态变化消息
- [ ] 客户端自动重连机制实现
      Test: manual:断开连接后观察3秒后自动重连

### 测试验收
- [ ] 基本功能验证通过
      Test: manual:完成以上所有手动验证
