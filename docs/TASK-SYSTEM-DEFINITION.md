# Cecelia ä»»åŠ¡ç³»ç»Ÿå®šä¹‰

**ç‰ˆæœ¬**: 1.0.0
**åˆ›å»ºæ—¶é—´**: 2026-02-04
**çŠ¶æ€**: ç¡®è®¤

---

## 1. å±‚çº§æ¶æ„

```
å¤§ OKR (å­£åº¦ï¼Œæ€»ç›®æ ‡)
â”œâ”€â”€ Repository OKR (æ¯ä¸ªä»“åº“/ä¸šåŠ¡æœ‰è‡ªå·±çš„ OKR)
â”‚   â””â”€â”€ SubProject (Feature / Sprintï¼ŒåŒä¸€å±‚çº§)
â”‚       â””â”€â”€ Task
â”‚
â””â”€â”€ å…¶ä»–ä¸šåŠ¡ OKR (è‡ªåª’ä½“ç­‰)
    â””â”€â”€ SubProject (Sprint)
        â””â”€â”€ Task
```

### å±‚çº§è¯´æ˜

| å±‚çº§ | è¯´æ˜ | æ•°æ®åº“ |
|------|------|--------|
| **OKR** | O=ç›®æ ‡ï¼ŒKR=è¡¡é‡æ–¹å¼ï¼Œå¯åµŒå¥— | `goals` è¡¨ |
| **Project** | = Repositoryï¼Œä»£ç ä»“åº“æˆ–ä¸šåŠ¡çº¿ | `projects` è¡¨ (repo_path æœ‰å€¼) |
| **SubProject** | Feature æˆ– Sprintï¼ŒåŒä¸€å±‚çº§ | `projects` è¡¨ (parent_id æœ‰å€¼) |
| **Task** | æœ€å°æ‰§è¡Œå•å…ƒ | `tasks` è¡¨ |

### SubProject çš„ä¸¤ç§å«æ³•

| åœºæ™¯ | å«æ³• | å‘¨æœŸ |
|------|------|------|
| ä»£ç é¡¹ç›® | **Feature** | 3-5 å¤© |
| è¿è¥/è‡ªåª’ä½“ | **Sprint** | 3-5 å¤© |

---

## 2. OKR åµŒå¥—

```
ä½ çš„æ€» OKR
â”œâ”€â”€ cecelia-core OKR (Repository)
â”‚   â”œâ”€â”€ KR1: æ´¾å‘æˆåŠŸç‡ > 90%
â”‚   â”‚   â””â”€â”€ Feature: å®æ—¶æ´¾å‘
â”‚   â””â”€â”€ KR2: è‡ªåŠ¨å®Œæˆ > 5 ä¸ª/å¤©
â”‚       â””â”€â”€ Feature: Daily Brief
â”‚
â””â”€â”€ è‡ªåª’ä½“ OKR
    â”œâ”€â”€ KR1: æ—¥æ›´ 10 ç¯‡
    â”‚   â””â”€â”€ Sprint: W6 å†…å®¹è®¡åˆ’
    â””â”€â”€ KR2: ç²‰ä¸å¢é•¿ 1000
        â””â”€â”€ Sprint: W6 æ¶¨ç²‰è®¡åˆ’
```

---

## 3. å¯¹è¯å±‚çº§

| å±‚çº§ | ä½ èŠä»€ä¹ˆ | é¢‘ç‡ |
|------|----------|------|
| **OKR** | å­£åº¦æ–¹å‘ | å­£åº¦ |
| **KR** | æœˆåº¦é‡ç‚¹ | æœˆåº¦ |
| **Project** | ä»“åº“æ•´ä½“ | å¶å°” |
| **SubProject** | å…·ä½“åŠŸèƒ½/è®¡åˆ’ | **æ¯å¤©** |

**æœ€å°å¯¹è¯ç²’åº¦æ˜¯ SubProjectï¼ˆFeature/Sprintï¼‰**ï¼Œä¸èŠ Taskã€‚

---

## 4. ä»»åŠ¡è‡ªä¸»çº§åˆ«

æ ‡è®°åœ¨ **Task å±‚**ï¼ŒåŒä¸€ä¸ª SubProject ä¸‹çš„ Task å¯èƒ½æœ‰ä¸åŒçº§åˆ«ã€‚

| çº§åˆ« | ä½ çš„è§’è‰² | é€‚ç”¨åœºæ™¯ |
|------|----------|----------|
| ğŸ”´ **Operator** | ä½ è‡ªå·±è·‘ | å…¨æ–°æ¢ç´¢ã€é«˜é£é™© |
| ğŸŸ¡ **Collaborator** | ä½ å’Œ AI ä¸€èµ· | åŠæ–°ä»»åŠ¡ |
| ğŸŸ  **Consultant** | AI å»ºè®®ï¼Œä½ å†³å®š | æœ‰æ–¹å‘ä½†ä¸ç¡®å®š |
| ğŸ”µ **Approver** | AI åšå®Œï¼Œä½ æ‰¹å‡† | å·²çŸ¥ä½†é‡è¦ |
| âšª **Observer** | AI è‡ªåŠ¨è·‘ | æˆç†Ÿã€æœ‰ SOP |

### æ ¸å¿ƒé€»è¾‘ï¼šæœ‰æ²¡æœ‰ SOP

```
æœ‰ SOP â†’ Observerï¼ˆè‡ªåŠ¨è·‘ï¼‰
æ²¡ SOP â†’ Operatorï¼ˆä½ å…ˆè·‘ï¼‰â†’ å½¢æˆ SOP â†’ ä¸‹æ¬¡ Observer
```

---

## 5. åŠ¨æ€å¯¼èˆªæ¨¡å¼

**ä¸æå‰æ‹† Taskï¼Œè¾¹è·‘è¾¹ç”Ÿæˆ**

```
SubProject åˆ›å»º â†’ åªçŸ¥é“ç›®æ ‡å’ŒéªŒæ”¶æ¡ä»¶
    â†“
æ‰§è¡Œ Task 1 â†’ çœ‹ç»“æœ
    â†“
æ ¹æ®ç»“æœç”Ÿæˆ Task 2 â†’ çœ‹ç»“æœ
    â†“
... å¾ªç¯ ...
    â†“
éªŒæ”¶é€šè¿‡ â†’ SubProject å®Œæˆ
```

### Task ç”Ÿæˆé€»è¾‘

```javascript
async function planNextTask(subproject) {
  const completedTasks = await getCompletedTasks(subproject.id);
  const lastResult = completedTasks[0]?.result_summary;

  // LLM å†³å®šä¸‹ä¸€æ­¥
  const decision = await callLLM({
    goal: subproject.title,
    acceptance: subproject.acceptance_criteria,
    completed: completedTasks,
    lastResult: lastResult
  });

  if (decision.completed) {
    await markComplete(subproject.id);
  } else {
    await createTask(subproject.id, decision.nextTask);
  }
}
```

---

## 6. åé¦ˆæ±‡æ€»

æŒ‰ä½ èŠçš„å±‚çº§æ±‡æ€»ï¼š

```
ä½ : "å®æ—¶æ´¾å‘æ€ä¹ˆæ ·äº†" (SubProject å±‚)

Cecelia: Featureã€Œå®æ—¶æ´¾å‘ã€è¿›åº¦ 50%

         ğŸ”´ éœ€è¦ä½ å‚ä¸:
         - Task 1: è°ƒç ”æ–¹æ¡ˆ [Consultant]

         âšª è‡ªåŠ¨è¿›è¡Œä¸­:
         - Task 2: æ”¹é…ç½® [Observer] - å®Œæˆ
         - Task 3: æµ‹è¯• [Observer] - è¿›è¡Œä¸­
```

```
ä½ : "KR1 è¿›åº¦" (KR å±‚)

Cecelia: KR1ã€Œæ´¾å‘æˆåŠŸç‡ > 90%ã€è¿›åº¦ 60%

         Feature 1: å®æ—¶æ´¾å‘ - 50%
         Feature 2: Seats åˆ†é… - 100% âœ…

         ğŸ”´ éœ€è¦ä½ å‚ä¸: 1 ä¸ªå†³ç­–
```

---

## 7. æ•°æ®åº“å­—æ®µ

### goals è¡¨ï¼ˆOKRï¼‰

```sql
id UUID PRIMARY KEY
parent_id UUID          -- çˆ¶ OKRï¼ˆåµŒå¥—ï¼‰
project_id UUID         -- å…³è” Repositoryï¼ˆå¯ç©ºï¼‰
type VARCHAR(50)        -- 'objective' | 'key_result'
title VARCHAR(255)
progress INTEGER
```

### projects è¡¨ï¼ˆRepository + SubProjectï¼‰

```sql
id UUID PRIMARY KEY
parent_id UUID          -- æœ‰å€¼ = SubProject (Feature/Sprint)
name VARCHAR(255)
repo_path VARCHAR(500)  -- æœ‰å€¼ = Repository
acceptance_criteria TEXT -- SubProject çš„éªŒæ”¶æ¡ä»¶
subproject_type VARCHAR(20) -- 'feature' | 'sprint'
```

### tasks è¡¨

```sql
id UUID PRIMARY KEY
project_id UUID         -- æ‰€å± SubProject
goal_id UUID            -- å…³è” KR
autonomy_level VARCHAR(20) DEFAULT 'observer'
result_summary TEXT     -- æ‰§è¡Œç»“æœï¼ˆç”¨äºåŠ¨æ€è§„åˆ’ä¸‹ä¸€æ­¥ï¼‰
sequence INTEGER        -- æ‰§è¡Œé¡ºåº
```

---

## 8. PRD è§„åˆ™

- **PRD é’ˆå¯¹ SubProject (Feature/Sprint) å†™**
- ä¸é’ˆå¯¹ Task
- PRD åŒ…å«ï¼šç›®æ ‡ã€éªŒæ”¶æ¡ä»¶ã€ä¸åŒ…å«å…·ä½“ Task åˆ—è¡¨
