---
id: dod-cp-02211500-project-closer
version: 1.0.0
created: 2026-02-21
updated: 2026-02-21
changelog:
  - 1.0.0: 初始版本
---

## DoD - Project 闭环检查器 + CLAUDE.md 概念清理

### 验收清单

- [ ] D1: checkProjectCompletion 函数在 initiative-closer.js 中实现
- [ ] D2: tick.js Section 0.9 集成 checkProjectCompletion 调用
- [ ] D3: 测试 P1-P4 通过（全 completed→关闭；有未完成→不关闭；无 initiative→不关闭；已 completed→不重复）
- [ ] D4: 全量测试通过（npm test）
- [ ] D5: /home/xx/.claude/CLAUDE.md 中 Project=Repository 概念已清理
- [ ] D6: DEFINITION.md 同步更新

### 测试映射

| DoD | Test 文件 | Test 描述 |
|-----|-----------|-----------|
| D1 | initiative-completion.test.js | checkProjectCompletion 函数存在且正常导出 |
| D2 | tick.js 代码审查 | Section 0.9 存在 |
| D3 P1 | initiative-completion.test.js | 所有 initiative completed → project 被关闭 |
| D3 P2 | initiative-completion.test.js | 有 initiative 未完成 → 不关闭 |
| D3 P3 | initiative-completion.test.js | 没有任何 initiative → 不关闭 |
| D3 P4 | initiative-completion.test.js | 已经 completed 的 project → 不重复处理 |
| D4 | npm test | 全量测试通过 |
| D5 | CLAUDE.md 文件内容 | grep 无 "项目 = Repository" |
| D6 | DEFINITION.md 文件内容 | 包含 Project 闭环相关描述 |
