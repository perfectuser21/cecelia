---
id: dod-okr-validation-integration
version: 1.0.0
created: 2026-02-22
updated: 2026-02-22
changelog:
  - 1.0.0: 初始版本
---

# DoD: OKR Validator 接入主链路 + CI

| # | DoD 条目 | Test 映射 | 验证方式 |
|---|---------|-----------|---------|
| D1 | decomposition-checker 调用 validateOkrStructure → BLOCK 时跳过创建 | `decomp-okr-validation.test.js` | 单元测试 |
| D2 | decomposition-checker 调用 validateOkrStructure → ok 时正常创建 | `decomp-okr-validation.test.js` | 单元测试 |
| D3 | validator 异常时不阻止主流程（容错） | `decomp-okr-validation.test.js` | 单元测试 |
| D4 | CI workflow 包含 OKR structure check 步骤 | 目视确认 .github/workflows/brain.yml | CI |
| D5 | facts-check.mjs 通过 | `node scripts/facts-check.mjs` | CI |
| D6 | 现有测试全部通过 | `npm test` | CI |

## 验收清单

- [ ] D1: decomposition-checker 调用 validateOkrStructure → BLOCK 时跳过创建
- [ ] D2: decomposition-checker 调用 validateOkrStructure → ok 时正常创建
- [ ] D3: validator 异常时不阻止主流程（容错）
- [ ] D4: CI workflow 包含 OKR structure check 步骤
- [ ] D5: facts-check.mjs 通过
- [ ] D6: 现有测试全部通过
