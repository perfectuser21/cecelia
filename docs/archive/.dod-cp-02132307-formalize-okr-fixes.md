# DoD - 正式化 OKR 拆解紧急修复

## 验收标准

### 功能验收

#### 修复 1: tick.js - 移除 canPlan() 阻塞
- [ ] brain/src/tick.js Line 1080 移除 `&& canPlan()` 检查
      Test: manual:代码 diff 对比生产环境
- [ ] OKR 自动拆解功能不再被阻塞
      Test: brain/src/__tests__/tick.test.js

#### 修复 2: executor.js - 修复 UUID 生成格式
- [ ] brain/src/executor.js 添加 uuid import
      Test: manual:代码 diff 对比生产环境
- [ ] brain/src/executor.js Line 534 generateRunId 返回标准 UUID v4
      Test: manual:代码 diff 对比生产环境
- [ ] UUID 格式符合 PostgreSQL uuid 类型要求
      Test: brain/src/__tests__/executor.test.js

### 测试验收
- [ ] 所有现有测试通过（brain 目录）
      Test: contract:existing-tests-pass
- [ ] npm test 在 brain 目录运行成功
      Test: contract:existing-tests-pass

### CI 验收
- [ ] Facts Check 通过（8 项代码事实与 DEFINITION.md 一致）
      Test: contract:ci-facts-check
- [ ] Version Check 通过（版本号同步）
      Test: contract:ci-version-check
- [ ] Brain (Node.js) 测试通过
      Test: contract:ci-brain-tests
- [ ] Semantic Brain (Python) 测试通过
      Test: contract:ci-semantic-brain

### 代码质量
- [ ] 代码改动与生产环境（v1.33.3）完全一致
      Test: manual:代码 diff 验证
- [ ] 符合 DEFINITION.md 定义的事实
      Test: contract:facts-consistency
- [ ] 无新增 lint 错误或警告
      Test: manual:代码审查

## 非功能验收
- [ ] 无安全漏洞引入
      Test: manual:代码审查
- [ ] 无性能退化
      Test: manual:逻辑分析
- [ ] 向后兼容现有功能
      Test: contract:existing-tests-pass

## 验证证据

### 生产环境验证
- OKR 拆解任务 8a9ccbad 成功完成（耗时 313s，91 轮）
- 10 个子任务成功创建到数据库
- KR1 状态正确更新为 in_progress 10%
- 无 UUID 格式错误

### 代码对比基准
- 对比目标：生产环境 Docker 镜像 cecelia-brain:1.33.3
- 验证方式：sed 改动与本次提交完全一致
