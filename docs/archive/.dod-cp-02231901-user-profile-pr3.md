## DoD - User Profile Context Injection（v1.85.0）

### 验收清单

- [ ] D1: user-profile.js 新增 `getUserProfileContext(pool, userId)` 导出函数，内部调用 loadUserProfile + formatProfileSnippet，返回 string
  - Test: `D1: getUserProfileContext 有画像时返回格式化字符串`
- [ ] D2: getUserProfileContext 在 user_profiles 无记录时返回 ''
  - Test: `D2: getUserProfileContext 无画像时返回空字符串`
- [ ] D3: getUserProfileContext 在 DB 异常时返回 ''（不抛出）
  - Test: `D3: getUserProfileContext DB异常时返回空字符串`
- [ ] D4: orchestrator-chat.js 导入 getUserProfileContext 并在 handleChat 中调用，将 profileSnippet 注入 systemPrompt
  - Test: `D10: handleChat 将 profileSnippet 注入 systemPrompt`
- [ ] D5: profileSnippet 为空字符串时，systemPrompt 不受影响（行为与 PR3 前一致）
  - Test: `D10-2: profileSnippet 为空时 systemPrompt 与原始格式一致`
- [ ] D6: 全部测试通过（含已有测试，基线不退化）
