# PRD: 代码清理 - L3 审计问题修复

## 背景

代码审计（2026-02-16）发现 4 个 L3（最佳实践）问题：
- 废弃函数标记矛盾
- 过时配置注释

## 目标

清理代码，提高一致性和可维护性。

## 修复内容

### 1. 移除矛盾的 @deprecated 标记

**文件**: `brain/src/intent.js`
**问题**: `generatePrdDraft()` 标记为 @deprecated，但仍在 line 815 使用

**修复**:
- 移除 @deprecated 标记
- 改进注释说明函数用途

### 2. 清理废弃变量注释

**文件**: `.env.docker` (line 14)
**文件**: `docker-compose.yml` (line 34)
**问题**: `CECELIA_MAX_CONCURRENT` 废弃变量的注释不够清晰

**修复**:
改进注释，明确说明无需手动配置。

### 3. Decay Status 死代码（暂不修复）

**文件**: `brain/src/routes.js` (line 4213-4214)
**问题**: 返回固定值的废弃代码

**决策**: 保留（可能涉及 API 向后兼容）

## 成功标准

1. ✅ @deprecated 标记移除
2. ✅ 配置注释更清晰
3. ✅ 代码一致性提高
4. ✅ 所有测试通过
