---
id: brain-custom-props
version: 1.0.0
created: 2026-02-25
updated: 2026-02-25
changelog:
  - 1.0.0: 初始版本
---

# Brain SELECT 查询添加 custom_props 字段

## 功能描述
Brain 的显式 SELECT 查询缺少 custom_props 字段，导致前端通过 Meta-Schema 添加的自定义属性无法被 Brain API 返回。

## 需求来源
前端 DatabaseView 支持 Meta-Schema (custom_props JSONB)，用户可以在前端添加自定义属性（如 start_date、end_date 等）。这些属性存储在 PostgreSQL 的 custom_props 列中。Brain 需要在返回数据时包含这些自定义属性。

## 成功标准
- `getTopTasks()` 返回包含 custom_props 字段
- `GET /api/brain/goals` 返回包含 custom_props 字段
- 前端自定义属性变更自动在 Brain API 可见

## 影响范围
- `brain/src/routes.js` — 两处 SELECT 语句
- 无数据库变更、无新端点、无 breaking change
