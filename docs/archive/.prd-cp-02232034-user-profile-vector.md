## PRD - User Profile Facts 向量化搜索

**需求来源**: 用户提出：已经有 pgvector 基础设施，希望利用语义向量搜索让 Cecelia 只注入与当前对话最相关的用户 facts，而非全量注入

**功能描述**:
将用户 Profile 的 raw_facts 从 JSONB 全量存储，升级为独立行存储 + pgvector 嵌入。
每条 fact 独立存为一行并异步生成 embedding。
对话时，基于当前对话内容做向量搜索，只取 Top-K 最相关 facts 注入 systemPrompt。

**涉及文件**:
- `brain/migrations/069_user_profile_facts_vector.sql`（新建 user_profile_facts 表）
- `brain/src/user-profile.js`（改造存储逻辑 + 向量检索）
- `brain/src/embedding-service.js`（复用或新增 fact embedding 函数）
- `brain/src/orchestrator-chat.js`（传入对话上下文给 getUserProfileContext）
- `brain/src/__tests__/user-profile-vector.test.js`（新增测试）
- `brain/src/selfcheck.js`（EXPECTED_SCHEMA_VERSION 069）

**成功标准**:
1. migration 069 创建 user_profile_facts 表（含 embedding vector(1536) 列）
2. extractAndSaveUserFacts 将 facts 拆分为独立行存储，并触发 fire-and-forget embedding
3. getUserProfileContext 支持传入 conversationText，当 embedding 存在时做向量搜索返回 Top-10
4. 无 OPENAI_API_KEY 时优雅降级：返回所有 facts（现有行为）
5. selfcheck.js EXPECTED_SCHEMA_VERSION 更新为 '069'
6. 新增测试覆盖核心路径

**非目标**:
- 不修改用户 profile 的结构化字段（display_name、focus_area 等）
- 不删除 user_profiles.raw_facts（保留向后兼容）
- 不修改 embedding-service.js 已有函数
