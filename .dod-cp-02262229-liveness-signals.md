## DoD - Cecelia 活性信号系统

### 后端变更

- [ ] **D1**: websocket.js 新增 `COGNITIVE_STATE` 事件类型
  - Test: 新事件常量存在于 WS_EVENTS 对象

- [ ] **D2**: tick.js 中间步骤广播 — executeTick() 在关键步骤（警觉评估、拆解检查、派发、反刍、欲望系统）前后广播 COGNITIVE_STATE 事件，携带 phase 和 detail
  - Test: executeTick 执行时调用 broadcast(COGNITIVE_STATE) 至少 5 次

- [ ] **D3**: tick.js 微心跳 — 在 tick 间隙（5 分钟内非执行期），startTickLoop 的 5s 循环推送轻量 COGNITIVE_STATE（phase='idle', tick 倒计时），让前端不再死寂
  - Test: 非 tick 执行期的 5s 循环也广播 COGNITIVE_STATE

- [ ] **D4**: taskEvents.js 新增 publishCognitiveState(data) 函数
  - Test: 函数存在，调用 broadcast(WS_EVENTS.COGNITIVE_STATE, ...)

### 前端变更

- [ ] **D5**: useCeceliaWS.ts WS_EVENTS 新增 COGNITIVE_STATE 常量
  - Test: WS_EVENTS.COGNITIVE_STATE === 'cognitive:state'

- [ ] **D6**: StatusBar 呼吸脉动 — alertness 圆点使用 CSS animation（breathe），速度随 cognitivePhase 变化（idle 4s / working 1.5s / thinking 2.5s）
  - Test: StatusBar 渲染包含 animation 样式的 div

- [ ] **D7**: StatusBar 认知颜色 — 圆点颜色映射认知阶段（正常绿 / 反刍琥珀 / 反思紫 / 派发蓝 / 警觉红）
  - Test: 不同 cognitivePhase 渲染不同颜色

- [ ] **D8**: StatusBar 动态状态文字 — 新增一行文字显示当前认知阶段描述（如"反刍中…" / "等待下次 tick…"）
  - Test: StatusBar 渲染 cognitivePhase 对应的中文描述

- [ ] **D9**: CeceliaPage 订阅 COGNITIVE_STATE — 接收 WS 事件更新 cognitivePhase state
  - Test: subscribe(WS_EVENTS.COGNITIVE_STATE) 回调更新状态

- [ ] **D10**: VoiceCard 背景色随认知阶段变化 — 渐变背景色映射到当前 cognitivePhase
  - Test: VoiceCard style.background 包含 phase 对应的颜色

- [ ] **D11**: AmbientGlow 增强 — 除了 alertness 驱动，还接收 cognitivePhase 微调 glow 颜色
  - Test: AmbientGlow 接受 cognitivePhase prop
