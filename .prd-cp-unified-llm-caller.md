## PRD - 统一 LLM 调用层：消灭散装 API，接入 Model Profile

**需求来源**: Brain 大脑组件（丘脑/皮层/反思/欲望系统/聊天）全部硬编码 API 调用，绕过了已建好的 model-profile 配置系统。其中 3 个组件因没有 Anthropic API Key 完全不工作，1 个用了废弃的 MiniMax M2.1 模型。

**功能描述**:
1. 创建统一的 `callLLM(agentId, prompt, options)` 模块
2. 读取 model-profile 配置决定用哪个模型
3. Anthropic 模型 → 调用 `claude -p --model <model>`（Claude Code 无头，走订阅）
4. MiniMax 模型 → 调用 MiniMax API（保留兼容，用户可通过前端切换）
5. 替换 7 个组件的硬编码 API 调用
6. 记忆打分改为批量调用（一次 LLM 调用打完所有观察的分）

**涉及文件**:

新建：
- `packages/brain/src/llm-caller.js` — 统一调用层

修改（替换硬编码）：
- `packages/brain/src/thalamus.js` — 丘脑 L1
- `packages/brain/src/cortex.js` — 皮层 L2（暂不改，callCortex 已有独立逻辑）
- `packages/brain/src/desire/reflection.js` — 反思 L3
- `packages/brain/src/desire/memory.js` — 记忆打分 L2
- `packages/brain/src/desire/desire-formation.js` — 欲望生成 L4
- `packages/brain/src/desire/expression.js` — 表达文案 L6
- `packages/brain/src/orchestrator-chat.js` — 聊天嘴巴
- `packages/brain/src/heartbeat-inspector.js` — 心跳巡检

修改（配置更新）：
- `packages/brain/src/model-registry.js` — 确保 desire/memory 等 agent 有定义
- `packages/brain/src/model-profile.js` — FALLBACK_PROFILE 默认改为 Anthropic

**成功标准**:
1. 所有 LLM 调用通过 `callLLM()` 统一入口
2. 默认全走 Claude Code 无头（Anthropic 订阅），不需要任何 API Key
3. 前端 model-profile 配置改模型后，所有组件立刻生效
4. 记忆打分合并为批量调用
5. 现有测试通过

**非目标**:
- 不改前端 UI（已有 model-profile 配置页面）
- 不改 executor.js 的任务派发逻辑（已经接入 profile）
- 不改 model-registry 的 Agent 白名单结构
