---
name: social-media-analysis
description: ç¤¾äº¤åª’ä½“æ•°æ®åˆ†æå·¥å…·ï¼Œä» TimescaleDB æŸ¥è¯¢å’Œåˆ†æå¹³å°æ•°æ®
trigger: å½“éœ€è¦åˆ†æå¹³å°æ•°æ®ã€ç”ŸæˆæŠ¥å‘Šã€è¯†åˆ«è¶‹åŠ¿æ—¶
version: 1.0.0
created: 2026-02-09
changelog:
  - 1.0.0: åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒåŸºç¡€æŸ¥è¯¢ã€è¶‹åŠ¿åˆ†æã€è·¨å¹³å°å¯¹æ¯”
---

# Social Media Analysis Skill

ä» TimescaleDB æŸ¥è¯¢å’Œåˆ†æç¤¾äº¤åª’ä½“å¹³å°æ•°æ®ã€‚

## æ ¸å¿ƒåŠŸèƒ½

### 1. æ•°æ®æŸ¥è¯¢

- æŸ¥è¯¢æŒ‡å®šå¹³å°çš„æ•°æ®
- æ—¶é—´èŒƒå›´ç­›é€‰
- æŒ‰ä½œå“åˆ†ç»„ç»Ÿè®¡
- è·¨å¹³å°æ•°æ®åˆå¹¶

### 2. è¶‹åŠ¿åˆ†æ

- å¢é•¿ç‡è®¡ç®—
- çˆ†æ¬¾è¯†åˆ«ï¼ˆæ’­æ”¾é‡/ç‚¹èµæ•°çªç ´é˜ˆå€¼ï¼‰
- æ—¶é—´åºåˆ—å˜åŒ–è¶‹åŠ¿
- æ•°æ®è´¨é‡åˆ†æ

### 3. è·¨å¹³å°å¯¹æ¯”

- åŒä¸€ä½œå“åœ¨ä¸åŒå¹³å°çš„è¡¨ç°
- å¹³å°æµé‡åˆ†å¸ƒ
- äº’åŠ¨ç‡å¯¹æ¯”
- æœ€ä½³å‘å¸ƒå¹³å°æ¨è

### 4. æŠ¥å‘Šç”Ÿæˆ

- Markdown æ ¼å¼æŠ¥å‘Š
- JSON æ•°æ®å¯¼å‡º
- å¯è§†åŒ–å›¾è¡¨å»ºè®®

## ä½¿ç”¨æ–¹å¼

```bash
# åŸºç¡€æŸ¥è¯¢
/social-media-analysis query douyin --days 7

# è¶‹åŠ¿åˆ†æ
/social-media-analysis trends --threshold 10000

# è·¨å¹³å°å¯¹æ¯”
/social-media-analysis compare "ä½œå“æ ‡é¢˜"

# ç”ŸæˆæŠ¥å‘Š
/social-media-analysis report --format markdown --output /tmp/report.md

# çˆ†æ¬¾è¯†åˆ«
/social-media-analysis top --limit 10 --metric views
```

## å‘½ä»¤è¯¦è§£

### query - æŸ¥è¯¢æ•°æ®

```bash
query <platform> [options]

Options:
  --days <n>        æŸ¥è¯¢æœ€è¿‘ n å¤©çš„æ•°æ®ï¼ˆé»˜è®¤: 7ï¼‰
  --limit <n>       é™åˆ¶ç»“æœæ•°é‡ï¼ˆé»˜è®¤: 100ï¼‰
  --format <type>   è¾“å‡ºæ ¼å¼: table|json|csvï¼ˆé»˜è®¤: tableï¼‰
```

### trends - è¶‹åŠ¿åˆ†æ

```bash
trends [options]

Options:
  --days <n>        åˆ†ææœ€è¿‘ n å¤©ï¼ˆé»˜è®¤: 30ï¼‰
  --threshold <n>   çˆ†æ¬¾é˜ˆå€¼ï¼ˆé»˜è®¤: 10000 æ’­æ”¾é‡ï¼‰
  --platform <p>    æŒ‡å®šå¹³å°ï¼ˆé»˜è®¤: allï¼‰
```

### compare - è·¨å¹³å°å¯¹æ¯”

```bash
compare <title> [options]

Options:
  --fuzzy <n>       æ¨¡ç³ŠåŒ¹é…ç›¸ä¼¼åº¦ï¼ˆé»˜è®¤: 0.6ï¼‰
  --metric <type>   å¯¹æ¯”æŒ‡æ ‡: views|likes|commentsï¼ˆé»˜è®¤: viewsï¼‰
```

### report - ç”ŸæˆæŠ¥å‘Š

```bash
report [options]

Options:
  --days <n>        æŠ¥å‘Šæ—¶é—´èŒƒå›´ï¼ˆé»˜è®¤: 7ï¼‰
  --format <type>   è¾“å‡ºæ ¼å¼: markdown|jsonï¼ˆé»˜è®¤: markdownï¼‰
  --output <file>   è¾“å‡ºæ–‡ä»¶è·¯å¾„
```

### top - çˆ†æ¬¾æ’è¡Œ

```bash
top [options]

Options:
  --limit <n>       æ˜¾ç¤ºå‰ n ä¸ªï¼ˆé»˜è®¤: 10ï¼‰
  --metric <type>   æ’åºæŒ‡æ ‡: views|likes|commentsï¼ˆé»˜è®¤: viewsï¼‰
  --platform <p>    æŒ‡å®šå¹³å°ï¼ˆé»˜è®¤: allï¼‰
```

## æ•°æ®æº

- **æ•°æ®åº“**: TimescaleDB (cecelia-postgres)
- **ç»Ÿä¸€è§†å›¾**: v_all_platforms
- **æ”¯æŒå¹³å°**: æŠ–éŸ³ã€å¿«æ‰‹ã€å°çº¢ä¹¦ã€è§†é¢‘å·ã€ä»Šæ—¥å¤´æ¡ã€å¾®åšã€çŸ¥ä¹

## è¾“å‡ºç¤ºä¾‹

### æŸ¥è¯¢è¾“å‡ºï¼ˆTableï¼‰

```
Platform: douyin | Date Range: 2026-02-02 to 2026-02-09

Title                          Views    Likes  Comments  Latest
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æƒ³æ³•å†å¤šï¼Œä¹ŸæŠµä¸è¿‡ä¸€æ¬¡éªŒè¯     10,378    15      3      2026-02-09
ç”¨AIæœ€é‡è¦çš„æ˜¯æ‹¥æœ‰ä¸€å¥—SOP      5,839     18      2      2026-02-08
...
```

### è¶‹åŠ¿åˆ†æè¾“å‡º

```
ğŸ“ˆ è¶‹åŠ¿åˆ†ææŠ¥å‘Š (è¿‡å» 7 å¤©)

çˆ†æ¬¾ä½œå“ (æ’­æ”¾é‡ > 10,000):
  1. æƒ³æ³•å†å¤šï¼Œä¹ŸæŠµä¸è¿‡ä¸€æ¬¡éªŒè¯ - 10,378 views (æŠ–éŸ³)
  2. å¿«æ¥è¯•è¯•ä¸ä¸€æ ·çš„è§†è§‰æ„Ÿè§‰ - 11,833 views (è·¨å¹³å°)

å¢é•¿è¶‹åŠ¿:
  æŠ–éŸ³: +12.5% (vs ä¸Šå‘¨)
  å¿«æ‰‹: +8.3%
  å°çº¢ä¹¦: -2.1%
```

### è·¨å¹³å°å¯¹æ¯”è¾“å‡º

```
ğŸ” ä½œå“: "æƒ³æ³•å†å¤šï¼Œä¹ŸæŠµä¸è¿‡ä¸€æ¬¡éªŒè¯"

å¹³å°è¡¨ç°:
  æŠ–éŸ³      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  10,378 (55.2%)
  å¿«æ‰‹      â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘     336 (1.8%)
  å°çº¢ä¹¦    â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘      17 (0.1%)

æ€»æµé‡: 10,731 | è¦†ç›–å¹³å°: 3
æœ€ä½³å¹³å°: æŠ–éŸ³ (10,378 views)
```

## é«˜çº§åŠŸèƒ½

### æ•°æ®è´¨é‡æ£€æµ‹

è‡ªåŠ¨è¯†åˆ«å¼‚å¸¸æ•°æ®ï¼š
- æ•°æ®é‡çªç„¶ä¸‹é™
- æ—¶é—´æˆ³å¼‚å¸¸
- å­—æ®µç¼ºå¤±

### æ™ºèƒ½å»ºè®®

åŸºäºå†å²æ•°æ®ç»™å‡ºå»ºè®®ï¼š
- æœ€ä½³å‘å¸ƒæ—¶é—´
- å†…å®¹ç±»å‹åå¥½
- å¹³å°é€‰æ‹©ç­–ç•¥

## æ•°æ®åº“æŸ¥è¯¢ç¤ºä¾‹

```sql
-- æŸ¥è¯¢è¿‡å» 7 å¤©çš„æŠ–éŸ³æ•°æ®
SELECT title, views, likes, scraped_at
FROM raw_data_douyin
WHERE scraped_at >= NOW() - INTERVAL '7 days'
ORDER BY views DESC
LIMIT 10;

-- è·¨å¹³å°ä½œå“ç»Ÿè®¡
SELECT
  clean_title(title) as work,
  COUNT(DISTINCT platform) as platforms,
  SUM(views) as total_views
FROM v_all_platforms
WHERE scraped_at >= NOW() - INTERVAL '30 days'
GROUP BY clean_title(title)
HAVING COUNT(DISTINCT platform) >= 2
ORDER BY total_views DESC;
```

## æ¶æ„

```
social-media-analysis/
â”œâ”€â”€ SKILL.md           # æœ¬æ–‡æ¡£
â”œâ”€â”€ command.sh         # ä¸»æ‰§è¡Œè„šæœ¬
â””â”€â”€ scripts/
    â”œâ”€â”€ query.sh       # æŸ¥è¯¢è„šæœ¬
    â”œâ”€â”€ trends.sh      # è¶‹åŠ¿åˆ†æ
    â”œâ”€â”€ compare.sh     # è·¨å¹³å°å¯¹æ¯”
    â”œâ”€â”€ report.sh      # æŠ¥å‘Šç”Ÿæˆ
    â””â”€â”€ top.sh         # çˆ†æ¬¾æ’è¡Œ
```

## ä¾èµ–

- TimescaleDB (cecelia-postgres å®¹å™¨)
- jq (JSON å¤„ç†)
- PostgreSQL client (psql)

## æœ€åæ›´æ–°

2026-02-09
