# DoD: Account Usage 详情页

## 验收清单

- [x] AccUsageRings：每个账号只显示 5h 用量 + 重置倒计时（一行）
  Test: manual:node -e "const s=require('fs').readFileSync('apps/dashboard/src/pages/live-monitor/LiveMonitorPage.tsx','utf8'); if(s.includes('7d:') || s.includes('son:')) throw new Error('old multi-line still present'); if(!s.includes('navigate(\'/account-usage\')')) throw new Error('navigate missing'); console.log('ok');"

- [x] AccUsageRings：点击整个区域跳转 /account-usage（cursor: pointer）
  Test: manual:node -e "const s=require('fs').readFileSync('apps/dashboard/src/pages/live-monitor/LiveMonitorPage.tsx','utf8'); if(!s.includes(\"cursor: 'pointer'\")) throw new Error('cursor pointer missing'); console.log('ok');"

- [x] 新建 AccountUsagePage.tsx：路由 /account-usage
  Test: manual:node -e "require('fs').statSync('apps/dashboard/src/pages/account-usage/AccountUsagePage.tsx'); console.log('file exists');"

- [x] AccountUsagePage：三列显示三账号，每列三行指标（5h/7d/son）
  Test: manual:node -e "const s=require('fs').readFileSync('apps/dashboard/src/pages/account-usage/AccountUsagePage.tsx','utf8'); if(!s.includes('COLOR_5H') || !s.includes('COLOR_7D') || !s.includes('COLOR_SON')) throw new Error('colors missing'); console.log('ok');"

- [x] AccountUsagePage：用量 ≥ 80% 显示红色警告 (#f85149)
  Test: manual:node -e "const s=require('fs').readFileSync('apps/dashboard/src/pages/account-usage/AccountUsagePage.tsx','utf8'); if(!s.includes('#f85149')) throw new Error('warn color missing'); console.log('ok');"

- [x] AccountUsagePage：底部「强制刷新」按钮调用 POST /api/brain/account-usage/refresh
  Test: manual:node -e "const s=require('fs').readFileSync('apps/dashboard/src/pages/account-usage/AccountUsagePage.tsx','utf8'); if(!s.includes('account-usage/refresh')) throw new Error('refresh api missing'); console.log('ok');"

- [x] system-hub feature manifest 注册 /account-usage 路由和 AccountUsagePage 组件
  Test: manual:node -e "const s=require('fs').readFileSync('apps/api/features/system-hub/index.ts','utf8'); if(!s.includes('/account-usage')) throw new Error('route missing'); if(!s.includes('AccountUsagePage')) throw new Error('component missing'); console.log('ok');"

- [x] Dashboard 本地测试通过
  Test: manual:npm --prefix apps/dashboard run test
