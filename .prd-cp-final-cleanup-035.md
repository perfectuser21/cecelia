# PRD: Final Cleanup - Migration 035 & Documentation Updates

**优先级**: P2 (Code Health)
**复杂度**: Low
**预计时间**: 30 分钟

---

## 背景

深度检查发现几个遗留问题：
1. 空表未删除（features, key_results）
2. Goal type 值不一致（5个使用 'objective'，应该是 'global_okr'/'area_okr'）
3. Goal type 缺少 CHECK 约束
4. 文档更新未提交（teammates 完成的版本号、Schema 版本更新）

## 目标

创建 Migration 035 清理遗留问题 + 提交文档更新

## 范围

### Migration 035
1. 删除空表：features, key_results
2. 修正 goal type 值：
   - objective (parent_id=NULL) → global_okr
   - objective (parent_id≠NULL) → area_okr
   - key_result → kr
3. 添加 type CHECK 约束

### 文档更新（teammates 已完成）
- .env.docker: 配置清理
- BRAIN_CAPABILITIES_REPORT.md: 版本更新 1.22.4→1.40.0, schema 016→034
- PRODUCTION_LAUNCH.md: 版本更新
- docs/TASK-SYSTEM-DEFINITION.md: v2.0.0 (6层OKR架构)
- 其他文档：版本号同步

### Code Changes
- selfcheck.js: EXPECTED_SCHEMA_VERSION '034' → '035'
- selfcheck.test.js: 测试期望值更新
- DEFINITION.md: Schema 版本更新
- MEMORY.md: Schema 版本更新

## 验收标准

1. Migration 035 创建并正确
2. DevGate 检查通过（facts-check, version-sync）
3. 所有测试通过
4. 文档版本号一致
5. PR 创建并合并

## 非目标

- 不修改任何业务逻辑
- 不改变 API 行为
