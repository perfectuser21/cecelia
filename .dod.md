# DoD - 修复 Jaccard 相似度算法

## 验收标准

### 功能验收
- [ ] 除零错误修复 - 空 tokens 返回 0.0 而非 NaN
      Test: brain/src/__tests__/similarity.test.js - test for empty tokens
- [ ] 性能优化 - 使用 Set 进行 O(1) token 查找
      Test: manual:性能验证
- [ ] 关键词匹配 - 大小写不敏感
      Test: brain/src/__tests__/similarity.test.js - keyword case-insensitive test
- [ ] 关键词加分限制 - 最大 0.3
      Test: brain/src/__tests__/similarity.test.js - keyword boost limit test

### 边界情况测试
- [ ] 空字符串处理测试通过
      Test: brain/src/__tests__/similarity.test.js - empty string tests
- [ ] null/undefined 处理测试通过
      Test: brain/src/__tests__/similarity.test.js - null/undefined tests
- [ ] 特殊字符处理测试通过
      Test: brain/src/__tests__/similarity.test.js - special character tests

### 兼容性验收
- [ ] 所有现有测试通过
      Test: brain/src/__tests__/similarity.test.js
- [ ] 向量搜索测试通过
      Test: brain/src/__tests__/similarity-vectors.test.js

### 质量验收
- [ ] ESLint 检查通过
      Test: npm run lint
- [ ] DevGate 检查通过
      Test: contract:facts-check.mjs
- [ ] CI/CD Pipeline 通过
      Test: GitHub Actions
