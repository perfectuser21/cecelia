# DoD - Task System REST API

QA: docs/QA-DECISION.md

## 验收标准

### Phase 1: 基础 CRUD

- [x] Projects CRUD API
      Test: tests/api/projects.test.ts

- [x] Goals CRUD API
      Test: tests/api/goals.test.ts

- [x] Tasks CRUD API
      Test: tests/api/tasks.test.ts

- [x] 连接到 PostgreSQL
      Test: tests/api/db.test.ts

- [x] 错误处理
      Test: tests/api/error-handling.test.ts

### Phase 2: 双向链接

- [x] POST /api/tasks/:id/links（创建链接）
      Test: tests/api/links.test.ts

- [x] GET /api/tasks/:id/backlinks（查询反向链接）
      Test: tests/api/links.test.ts

- [x] DELETE /api/tasks/:id/links/:linkId（删除链接）
      Test: tests/api/links.test.ts

### Phase 3: 统计和查询

- [x] GET /api/projects/:id/stats（项目统计）
      Test: tests/api/projects.test.ts

- [x] GET /api/tasks?status=queued&priority=P0（筛选）
      Test: tests/api/tasks.test.ts

- [x] GET /api/goals/:id/tasks（目标的任务）
      Test: tests/api/goals.test.ts

### Phase 4: 测试

- [x] API 集成测试
      Test: tests/api/integration.test.js

- [x] 错误场景测试
      Test: tests/api/error-handling.test.ts

- [x] 双向链接正确性测试
      Test: tests/api/links.test.ts (包含 bidirectional consistency 测试)
