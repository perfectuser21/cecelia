# DoD: 数据库连接配置统一化

QA: 无需独立 QA（内部配置重构，无用户界面变更）

## 验收清单

| # | DoD 条目 | Test 映射 | 验证方式 |
|---|---------|-----------|----------|
| 1 | db-config.js 导出 DB_DEFAULTS，默认值与 .env.docker 一致 | db-config.test.js: "exports correct defaults" | 单元测试验证 5 个字段值 |
| 2 | db.js 从 db-config.js 读取默认值，不再硬编码 n8n 遗留值 | grep 验证 | db.js 中无 cecelia_tasks / n8n_user / n8n_password_2025 |
| 3 | migrate.js standalone 模式从 db-config.js 读取 | grep 验证 | migrate.js standalone 部分无重复硬编码 |
| 4 | selfcheck.js standalone 模式从 db-config.js 读取 | grep 验证 | selfcheck.js standalone 部分无重复硬编码 |
| 5 | 4 个测试文件从 db-config.js 读取 | grep 验证 | 测试文件中无 CeceliaUS2026 硬编码 |
| 6 | 现有测试不回归 | `npx vitest run` | 665/670 通过（5 DouyinAdapter 预期失败） |

## 测试验收

- [ ] `npx vitest run` 全量通过（不引入回归）
- [ ] grep 验证：代码库中只有 db-config.js 包含默认凭据
