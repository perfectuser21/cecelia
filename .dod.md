# DoD - M2 Tick + Actions Migration

QA: docs/QA-DECISION.md

## 验收标准

### Tick 迁移

- [ ] get_tick_status() 返回正确状态
      Test: tests/test_tick.py
- [ ] enable_tick() 启用自动 tick
      Test: tests/test_tick.py
- [ ] disable_tick() 禁用自动 tick
      Test: tests/test_tick.py
- [ ] execute_tick() 执行任务推进逻辑
      Test: tests/test_tick.py
- [ ] is_stale() 检测过期任务
      Test: tests/test_tick.py

### Actions 迁移

- [ ] create_task() 创建任务
      Test: tests/test_actions.py
- [ ] update_task() 更新任务状态/优先级
      Test: tests/test_actions.py
- [ ] create_goal() 创建目标
      Test: tests/test_actions.py
- [ ] update_goal() 更新目标状态/进度
      Test: tests/test_actions.py
- [ ] set_memory() 设置工作记忆
      Test: tests/test_actions.py
- [ ] batch_update_tasks() 批量更新任务
      Test: tests/test_actions.py

### API 路由

- [ ] GET /api/brain/tick/status 返回 tick 状态
      Test: tests/test_tick_api.py
- [ ] POST /api/brain/tick/enable 启用 tick
      Test: tests/test_tick_api.py
- [ ] POST /api/brain/tick/disable 禁用 tick
      Test: tests/test_tick_api.py
- [ ] POST /api/brain/tick 执行一次 tick
      Test: tests/test_tick_api.py
- [ ] POST /api/brain/action/{name} 执行动作
      Test: tests/test_actions_api.py

### 测试验收

- [ ] pytest tests/test_tick.py 通过
      Test: PYTHONPATH=. pytest tests/test_tick.py -v
- [ ] pytest tests/test_actions.py 通过
      Test: PYTHONPATH=. pytest tests/test_actions.py -v
- [ ] pytest tests/test_tick_api.py 通过
      Test: PYTHONPATH=. pytest tests/test_tick_api.py -v
- [ ] pytest tests/test_actions_api.py 通过
      Test: PYTHONPATH=. pytest tests/test_actions_api.py -v
