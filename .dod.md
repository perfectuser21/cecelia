---
id: dod-cp-02181034-quickroute-user-command
version: 1.0.0
created: 2026-02-18
updated: 2026-02-18
changelog:
  - 1.0.0: 初始版本 - quickRoute USER_COMMAND 快速路由
---

# DoD: quickRoute USER_COMMAND 快速路由

## 验收清单

- [ ] USER_COMMAND(status) → no_action
- [ ] USER_COMMAND(health) → no_action
- [ ] USER_COMMAND(version) → no_action
- [ ] USER_COMMAND(tick) → fallback_to_tick
- [ ] USER_COMMAND(unknown) → null 交 Sonnet
- [ ] USER_MESSAGE 仍返回 null
- [ ] vitest 全量测试通过
- [ ] facts-check.mjs 通过
- [ ] 版本 patch bump

## Test 映射

| # | DoD 条目 | Test 映射 | 验证方式 |
|---|----------|-----------|---------|
| 1 | USER_COMMAND(status) → no_action | thalamus.test.js: "should return no_action for USER_COMMAND status" | vitest 单元测试 |
| 2 | USER_COMMAND(health) → no_action | thalamus.test.js: "should return no_action for USER_COMMAND health" | vitest 单元测试 |
| 3 | USER_COMMAND(version) → no_action | thalamus.test.js: "should return no_action for USER_COMMAND version" | vitest 单元测试 |
| 4 | USER_COMMAND(tick) → fallback_to_tick | thalamus.test.js: "should return fallback_to_tick for USER_COMMAND tick" | vitest 单元测试 |
| 5 | USER_COMMAND(unknown) → null（交 Sonnet） | thalamus.test.js: "should return null for USER_COMMAND unknown" | vitest 单元测试 |
| 6 | USER_MESSAGE 仍返回 null（不受影响） | thalamus.test.js: "should return null for user message (needs Sonnet)" | vitest 单元测试 |
| 7 | 不破坏现有 quickRoute 测试 | thalamus.test.js: 所有现有测试通过 | vitest 全量测试 |
| 8 | facts-check 通过 | node scripts/facts-check.mjs | 自动化检查 |
| 9 | 版本 patch bump（1.48.7 → 1.48.8） | bash scripts/check-version-sync.sh | 版本同步检查 |
