# DoD: Planner KR 轮转 + Executor repo_path 解析

QA: 无需独立 QA（内部引擎优化，无用户界面变更）

## 验收清单

| # | DoD 条目 | Test 映射 | 验证方式 |
|---|---------|-----------|----------|
| 1 | planNextTask 在 top KR exhausted 时尝试下一个 KR | planner.test.js: "rotates to next KR when top is exhausted" | 单元测试 mock 多个 KR，第一个返回 null，第二个成功 |
| 2 | planNextTask 所有 KR exhausted 时返回 needs_planning | planner.test.js: "returns needs_planning when all KRs exhausted" | 单元测试所有 KR 返回 null |
| 3 | resolveRepoPath 从 Feature 遍历到父 Project | executor.test.js: "resolves repo_path from parent project" | 单元测试 mock Feature→Project 链 |
| 4 | resolveRepoPath 在无 parent 时返回 null | executor.test.js: "returns null for orphan project" | 单元测试无 parent_id 且无 repo_path |
| 5 | 现有测试不回归 | `npx vitest run` | 640/645 通过（5 DouyinAdapter 预期失败） |

## 测试验收

- [ ] `npx vitest run` 全量通过（不引入回归）
- [ ] 新增测试覆盖 DoD #1-#4
