---
id: multi-minimax-cred-dod
version: 1.0.0
created: 2026-02-24
updated: 2026-02-24
changelog:
  - 1.0.0: 初始版本
---
# DoD: 多账户 MiniMax 凭据选择 + 修复 EROFS

## 验收清单

- [x] docker-compose.yml 添加 workers.config.json 的 `:rw` 挂载，覆盖 workflows/ 的 `:ro`
- [x] GET /staff 返回 worker.model.credentials_file（从 model_map.minimax_credentials 或 worker.credentials_file 读取）
- [x] PUT /staff/workers/:workerId 接受 credentials_file，保存到 worker.credentials_file 和 model_map.minimax_credentials
- [x] executor.js 新增 getMinimaxCredentialsForTask()，读取 model_map[taskType].minimax_credentials
- [x] executor.js 在 provider=minimax 时，将 credentialsFile 注入 extraEnv.CECELIA_MINIMAX_CREDENTIALS
- [x] cecelia-run 使用 ${CECELIA_MINIMAX_CREDENTIALS:-minimax}.json 加载凭据（默认 minimax）
- [x] staffApi.ts WorkerModel 接口添加 credentials_file: string | null
- [x] staffApi.ts WorkerUpdatePayload 接口添加 credentials_file?: string | null
- [x] TeamPage.tsx WorkerPanel 当 provider=minimax 时显示账户下拉（minimax/minimax2）
- [x] TeamPage.tsx save() 传递 credentials_file: provider === 'minimax' ? credentialsFile : null
- [x] brain 版本 bump 到 1.95.4
- [x] npm test：2350 tests pass（失败仅为已知 DB 环境问题，与本 PR 无关）
- [x] TypeScript 类型检查通过（tsc --noEmit）
