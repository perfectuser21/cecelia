---
id: dod-facts-check-cleanup
version: 1.0.0
created: 2026-02-06
updated: 2026-02-06
changelog:
  - 1.0.0: 初始版本
---

# DoD: Facts 一致性检查 + 代码清理

QA: 无需独立 QA（工具脚本 + 代码清理，无用户界面变更）

## 验收清单

| # | DoD 条目 | Test 映射 | 验证方式 |
|---|---------|-----------|----------|
| 1 | facts-check.mjs 检查 8 项事实，当前全部一致 | `node scripts/facts-check.mjs` | 退出码 0，输出 8 行 ✓ |
| 2 | facts-check.mjs 不一致时退出码 1 | 手动改 DEFINITION.md 验证 | 输出 ✗ 行 + 退出码 1 |
| 3 | CI 包含 Facts Consistency job | grep ci.yml | job 存在且运行 facts-check |
| 4 | automation 引用全部清除 | `grep -r "automation" brain/src/ --include="*.js"` | 零结果 |
| 5 | 旧路径全部清除 | `grep -r "/home/xx/dev/" brain/src/ --include="*.js"` | 零结果 |
| 6 | 现有测试不回归 | `cd brain && npx vitest run` | >= 668 通过 |

## 测试验收

- [ ] `node scripts/facts-check.mjs` 全绿
- [ ] `cd brain && npx vitest run` 无回归
- [ ] `grep -r "automation\|/home/xx/dev/" brain/src/ --include="*.js"` 零结果
