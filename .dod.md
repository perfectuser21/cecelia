## DoD - 修复免疫系统 P0 断链

### 功能完整性

- [ ] classifyFailure() 能正确返回 SYSTEMIC（连续同类失败达阈值）
  - Test: `brain/src/__tests__/quarantine-systemic.test.js::systemic_failure_classification`
- [ ] 所有成功路径调用 recordSuccess()
  - Test: `brain/src/__tests__/circuit-breaker-success.test.js::record_success_called`
- [ ] HALF_OPEN 连续成功后回到 CLOSED
  - Test: `brain/src/__tests__/circuit-breaker-success.test.js::half_open_to_closed`
- [ ] Watchdog kill 时 failure_count 继承到重入队列任务
  - Test: `brain/src/__tests__/tick-watchdog-quarantine.test.js::watchdog_kill_inherits_failures`
- [ ] 连续 watchdog kill 达阈值后自动隔离
  - Test: `brain/src/__tests__/tick-watchdog-quarantine.test.js::watchdog_kill_quarantine`

### 代码质量

- [ ] 所有修改的函数有注释说明修复内容
- [ ] 新增测试覆盖 3 个修复点
- [ ] 无 console.log 残留

### CI 通过

- [ ] Version Check 通过
- [ ] Facts Consistency 通过
- [ ] Brain (Node.js) 测试通过
- [ ] Semantic Brain (Python) 通过

### 文档更新

- [ ] LEARNINGS.md 记录 3 个断链的根因和修复方案
- [ ] DEFINITION.md 无需更新（内部实现修复，不影响对外定义）
