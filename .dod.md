# DoD: CI 100% é˜²æŠ¤èƒ½åŠ›ä¿®å¤

## å¿…é¡»å®Œæˆé¡¹ï¼ˆMï¼‰

### 1. CI Workflow ä¿®å¤

- [ ] âœ… **ci-passed ä¾èµ–é“¾ä¿®å¤**
  - æ·»åŠ  regression-pr å’Œ release-check åˆ° needs
  - ä¿®æ”¹ if æ¡ä»¶ï¼Œæ­£ç¡®å¤„ç†æ¡ä»¶æ€§ jobs
  - ç§»é™¤ gh API åéªŒè¯é€»è¾‘
  - æµ‹è¯•ï¼šåˆ›å»ºæµ‹è¯• PR éªŒè¯ç­‰å¾…é€»è¾‘

- [ ] âœ… **back-merge æƒé™ä¿®å¤**
  - æ”¹ä¸º `contents: write`
  - ç§»é™¤ `|| true` é”™è¯¯åæ‰
  - æ·»åŠ å¤±è´¥æ—¥å¿—è¾“å‡º
  - æµ‹è¯•ï¼šæ‰‹åŠ¨è§¦å‘ workflow éªŒè¯

- [ ] âœ… **è¶…æ—¶é…ç½®**
  - ä¸º impact-check æ·»åŠ  `timeout-minutes: 5`
  - å®¡æŸ¥å…¶ä»– jobs è¶…æ—¶è®¾ç½®

### 2. Evidence ç³»ç»ŸåŠ å›º

- [ ] âœ… **å¼ºåˆ¶ checks ç›®å½•éªŒè¯**
  - ç§»é™¤ "if checks dir exists" é€»è¾‘
  - å¼ºåˆ¶è¦æ±‚ ci/out/checks/ å¿…é¡»å­˜åœ¨
  - Hash éªŒè¯ä¸èƒ½è¢«è·³è¿‡
  - æµ‹è¯•ï¼šåˆ é™¤ checks ç›®å½•åº”è¯¥å¤±è´¥

- [ ] âœ… **CI run ID éªŒè¯**
  - generate-evidence.sh è®°å½• GitHub Actions run ID
  - evidence-gate.sh éªŒè¯ run ID å­˜åœ¨äº GitHub API
  - éªŒè¯ run ID å¯¹åº”çš„ commit SHA åŒ¹é…
  - æµ‹è¯•ï¼šä¼ªé€  run ID åº”è¯¥å¤±è´¥

- [ ] âœ… **æ—¶é—´æˆ³éªŒè¯**
  - Evidence å¿…é¡»åœ¨ 24 å°æ—¶å†…ç”Ÿæˆ
  - è¿‡æœŸ evidence è‡ªåŠ¨ä½œåºŸ
  - æµ‹è¯•ï¼šä½¿ç”¨æ—§ evidence åº”è¯¥å¤±è´¥

### 3. DevGate è„šæœ¬ä¿®å¤

- [ ] âœ… **glob regex bug**
  - ä¿®å¤ scan-rci-coverage.cjs æ›¿æ¢é¡ºåº
  - å…ˆæ›¿æ¢ ** å†æ›¿æ¢ *
  - æ·»åŠ æµ‹è¯•ç”¨ä¾‹

- [ ] âœ… **shell è½¬ä¹‰åŠ å¼º**
  - snapshot-prd-dod.sh æ·»åŠ  backtick è½¬ä¹‰
  - æ·»åŠ  $() è½¬ä¹‰

### 4. Nightly Workflow ä¿®å¤

- [ ] âœ… **æ”¹ä¸º artifact ä¸Šä¼ **
  - ç§»é™¤ git push é€»è¾‘
  - æ”¹ä¸º upload-artifact
  - æµ‹è¯•ï¼šworkflow åº”è¯¥æˆåŠŸ

### 5. æµ‹è¯•è¦†ç›–

- [ ] âœ… **æ‰€æœ‰ä¿®å¤éƒ½æœ‰æµ‹è¯•**
  - CI workflow å˜æ›´æœ‰é›†æˆæµ‹è¯•
  - Evidence ç³»ç»Ÿæœ‰å•å…ƒæµ‹è¯•
  - DevGate è„šæœ¬æœ‰æµ‹è¯•ç”¨ä¾‹

## åº”è¯¥å®Œæˆé¡¹ï¼ˆSï¼‰

- [ ] ğŸ“ **æ•°å­—ç­¾åï¼ˆP2ï¼Œå¯åç»­ï¼‰**
  - ä½¿ç”¨ GPG æˆ– GitHub OIDC token
  - generate-evidence.sh ç”Ÿæˆç­¾å
  - evidence-gate.sh éªŒè¯ç­¾å

- [ ] ğŸ“ **L2B Evidence é‡æ„ï¼ˆP2ï¼Œå¯åç»­ï¼‰**
  - è¦æ±‚ CI job URL
  - è¦æ±‚ artifact é“¾æ¥
  - éªŒè¯é“¾æ¥å¯è®¿é—®

## å¯ä»¥å®Œæˆé¡¹ï¼ˆCï¼‰

- [ ] ğŸ’¡ **Evidence ç§»åˆ° Notion**
  - ä¸Šä¼ åˆ° Notion database
  - Git ä¸­åªä¿ç•™ URL

- [ ] ğŸ’¡ **Manual verification æ”¹ä¸º Issue**
  - ä½¿ç”¨ GitHub Issue è®°å½•
  - éœ€è¦ approval

## éªŒæ”¶æ¸…å•

### åŠŸèƒ½éªŒæ”¶

- [ ] âœ… åˆ›å»ºæµ‹è¯• PR to developï¼Œci-passed å¿…é¡»ç­‰å¾… regression-pr
- [ ] âœ… åˆ›å»ºæµ‹è¯• PR to mainï¼Œci-passed å¿…é¡»ç­‰å¾… release-check
- [ ] âœ… åˆ é™¤ ci/out/checks/ ç›®å½•ï¼Œevidence-gate å¿…é¡»å¤±è´¥
- [ ] âœ… ä¼ªé€  CI run IDï¼ŒéªŒè¯å¿…é¡»å¤±è´¥
- [ ] âœ… ä½¿ç”¨ 24 å°æ—¶å‰çš„ evidenceï¼ŒéªŒè¯å¿…é¡»å¤±è´¥
- [ ] âœ… ** glob æ¨¡å¼æ­£ç¡®åŒ¹é…é€’å½’ç›®å½•

### è´¨é‡éªŒæ”¶

- [ ] âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] âœ… Audit L1+L2 æ¸…é›¶
- [ ] âœ… CI å…¨ç»¿

### æ–‡æ¡£éªŒæ”¶

- [ ] âœ… CHANGELOG.md æ›´æ–°
- [ ] âœ… ç‰ˆæœ¬å·æ›´æ–°ï¼ˆmajor: ç ´åæ€§å˜æ›´ï¼‰

## QA å†³ç­–å‚è€ƒ

å‚è€ƒï¼š`docs/QA-DECISION.md`ï¼ˆå°†ç”± /qa skill ç”Ÿæˆï¼‰
