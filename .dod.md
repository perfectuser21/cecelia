---
id: dod-thalamus-suggest-task-type
version: 1.0.0
created: 2026-02-18
updated: 2026-02-18
changelog:
  - 1.0.0: 初始版本
---

# DoD: thalamus.js 新增 suggest-task-type 警告 action

## 验收清单

- [ ] suggest-task-type 加入 thalamus.js ACTION_WHITELIST
  - Test: thalamus-suggest-task-type.test.js "suggest-task-type 在 ACTION_WHITELIST 中存在"
- [ ] handleSuggestTaskType() 在 decision-executor.js 中实现，调用后 learnings 表有记录
  - Test: thalamus-suggest-task-type.test.js "suggest-task-type 调用后 learnings 表有记录"
- [ ] handleSuggestTaskType() 不修改原 task 的 task_type
  - Test: thalamus-suggest-task-type.test.js "suggest-task-type 不修改原 task 的 task_type"
- [ ] node scripts/facts-check.mjs 全通过（action_count 为 28）
- [ ] bash scripts/check-version-sync.sh 全通过
- [ ] 所有现有测试通过（无回归）：npm test
- [ ] DEFINITION.md 同步更新 action 列表（27→28，新增 suggest-task-type）
- [ ] version bump minor（新增 action = minor）

## Test 映射

| # | DoD 条目 | Test 映射 | 验证方式 |
|---|---------|-----------|---------|
| 1 | suggest-task-type 在 ACTION_WHITELIST 中存在 | brain/src/__tests__/thalamus-suggest-task-type.test.js - suggest-task-type 在 ACTION_WHITELIST 中存在 | 单元测试 |
| 2 | handleSuggestTaskType 调用后 learnings 表有记录 | brain/src/__tests__/thalamus-suggest-task-type.test.js - suggest-task-type 调用后 learnings 表有记录 | 单元测试 |
| 3 | suggest-task-type 不修改原 task 的 task_type | brain/src/__tests__/thalamus-suggest-task-type.test.js - suggest-task-type 不修改原 task 的 task_type | 单元测试 |
