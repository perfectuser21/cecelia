---
id: dod-cp-02182200-auto-rca-on-failure
version: 1.0.0
created: 2026-02-18
updated: 2026-02-18
changelog:
  - 1.0.0: 初始版本
---

# DoD: execution-callback 任务失败自动触发 RCA

## 验收清单

- [ ] 任务失败（failed/timeout/quarantined）时，triggerAutoRCA 被调用
  - Test: `brain/src/__tests__/auto-rca.test.js` - "任务失败触发 RCA"
- [ ] 24h 内相同错误签名跳过 RCA（shouldAnalyzeFailure 返回 false）
  - Test: `brain/src/__tests__/auto-rca.test.js` - "24h 内重复失败跳过 RCA"
- [ ] RCA 失败时不影响主回调流程
  - Test: `brain/src/__tests__/auto-rca.test.js` - "RCA 失败不影响主流程"
- [ ] BILLING_CAP 类型失败不触发 RCA
  - Test: `brain/src/__tests__/auto-rca.test.js` - "billing_cap 类失败不触发 RCA"
- [ ] 所有测试通过（npm test）
  - Test: 4 个测试用例全部通过
