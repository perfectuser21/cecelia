---
id: dod-cp-02182200-init-tick-retry
version: 1.0.0
created: 2026-02-18
updated: 2026-02-18
changelog:
  - 1.0.0: 初始版本
---

# DoD: Tick 启动失败后台自动重试

## 验收清单

| # | 条件 | Test | 状态 |
|---|------|------|------|
| 1 | 所有重试耗尽后，后台恢复 timer 被注册 | init-tick-retry.test.js / recovery timer 注册测试 | [ ] |
| 2 | 恢复成功后停止后台 timer（clearInterval） | init-tick-retry.test.js / 恢复成功后 timer 停止测试 | [ ] |
| 3 | 恢复尝试历史写入 working_memory recovery_attempts | init-tick-retry.test.js / recovery_attempts 写入测试 | [ ] |
| 4 | CECELIA_INIT_RECOVERY_INTERVAL_MS 环境变量可配置 | init-tick-retry.test.js / 环境变量配置测试 | [ ] |
| 5 | getTickStatus() API 包含 recovery_attempts 信息 | init-tick-retry.test.js / API 可查询测试 | [ ] |

## 技术约束

- 不修改 INIT_RETRY_COUNT（重试次数保持不变）
- 恢复 timer 存储在模块级变量 `_recoveryTimer`
- 恢复成功时必须 `clearInterval(_recoveryTimer)` 并清空
- 恢复失败写入 recovery_attempts 但不抛出异常
