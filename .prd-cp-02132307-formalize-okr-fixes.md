## PRD - 正式化 OKR 拆解紧急修复

**需求来源**: 紧急修复正式化 - 将生产环境中已验证有效的 OKR 拆解修复提交到代码仓库

**背景**:
2026-02-13 发现 Cecelia Brain 的 OKR 自动拆解系统被两个 bug 阻塞：
1. `tick.js` 中的 `canPlan()` 检查错误地阻止了自动规划
2. `executor.js` 中的 UUID 生成格式不符合标准（`run-{taskid}-{timestamp}` 而非标准 UUID v4）

这两个 bug 已通过 `sed` 紧急修复并部署到生产环境（Brain v1.33.3），实际运行证明修复有效（成功完成 OKR 拆解任务 8a9ccbad）。现在需要将这些修复正式提交到 git 仓库。

**功能描述**:

### 修复 1: tick.js - 移除 canPlan() 阻塞
**文件**: `brain/src/tick.js`
**位置**: Line 1080
**改动**:
```javascript
// Before:
if (queued.length === 0 && inProgress.length === 0 && krIds.length > 0 && canPlan()) {

// After:
if (queued.length === 0 && inProgress.length === 0 && krIds.length > 0) {
```

**原因**: `canPlan()` 函数来自旧的 alertness.js，与新的诊断系统不兼容，错误地阻止了 OKR 自动拆解。

### 修复 2: executor.js - 修复 UUID 生成格式
**文件**: `brain/src/executor.js`
**改动**:
1. 添加 import（Line 1）:
```javascript
import { v4 as uuidv4 } from 'uuid';
```

2. 修复 generateRunId 函数（Line 534）:
```javascript
// Before:
return `run-${taskId.slice(0, 8)}-${timestamp}`;

// After:
return uuidv4();
```

**原因**: 旧格式 `run-{taskid}-{timestamp}` 不是标准 UUID v4，导致 PostgreSQL 报错："invalid input syntax for type uuid"。

**涉及文件**:
- `brain/src/tick.js` - 修改 1 行
- `brain/src/executor.js` - 修改 2 处（import + generateRunId）

**成功标准**:
1. ✅ 代码改动与生产环境（v1.33.3）一致
2. ✅ 所有现有测试通过（`npm test`）
3. ✅ CI 检查通过（Facts Check, Version Check, Brain Node.js, Semantic Brain Python）
4. ✅ 代码审查通过（符合 DEFINITION.md 和代码规范）

**非目标**:
- ❌ 不新增功能，只正式化现有修复
- ❌ 不修改测试用例（除非必要）
- ❌ 不重构其他代码

**验证证据**:
- 生产环境已运行这些修复
- OKR 拆解任务 `8a9ccbad-f663-4d94-80d6-ce9af93eec3d` 成功完成
- 10 个子任务成功创建到数据库
- KR1 状态正确更新为 `in_progress` 10%
