# DoD: Set up test infrastructure and coverage reporting

## 1. ✅ Configure Vitest for coverage reporting
- **Test**: `brain/src/__tests__/coverage-config.test.js`
- **What**: Verify vitest.config.js exists and has correct coverage settings
- **Evidence**: Coverage reports generated in coverage/ directory

## 2. ✅ Set coverage thresholds to 95%
- **Test**: `brain/src/__tests__/coverage-thresholds.test.js`
- **What**: Test that coverage thresholds are enforced
- **Evidence**: Vitest fails when coverage drops below 95%

## 3. ✅ Track thalamus.js and cortex.js specifically
- **Test**: Run `npm run test:coverage` locally
- **What**: Verify thalamus.js and cortex.js appear in coverage report
- **Evidence**: Coverage percentages for both files documented

## 4. ✅ Generate baseline coverage metrics
- **Test**: Manual execution of coverage command
- **What**: Document current coverage for thalamus.js and cortex.js
- **Evidence**: COVERAGE_BASELINE.md file created with metrics

## 5. ✅ Configure coverage reporters
- **Test**: `brain/src/__tests__/coverage-reporters.test.js`
- **What**: Verify text, lcov, and html reporters are configured
- **Evidence**: Multiple report formats generated in coverage/

## 6. ✅ Update GitHub Actions CI workflow
- **Test**: CI pipeline execution
- **What**: Coverage checks run on every PR
- **Evidence**: CI workflow file includes coverage step

## 7. ✅ Add coverage badge to README
- **Test**: Visual inspection
- **What**: Coverage badge displays in README.md
- **Evidence**: Badge URL correctly configured

## 8. ✅ Create coverage documentation
- **Test**: File existence check
- **What**: Coverage guide and instructions documented
- **Evidence**: docs/testing/COVERAGE.md file created

## CI Checks
- All tests pass
- Coverage meets 95% threshold
- Coverage reports generated
- No regression in existing tests