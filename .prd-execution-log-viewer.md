# PRD - [Retry] 实现执行日志查看页面

## 需求来源
任务来自 Brain 自动调度。
任务类型：dev

## 功能描述
实现一个执行日志查看页面，提供以下功能：
1. 实时流式展示执行日志（WebSocket 或 SSE）
2. 日志筛选功能（按时间、任务 ID、状态等）
3. 日志搜索功能
4. 日志下载功能
5. 自动滚动到最新日志
6. 日志级别过滤（info、warn、error）

## 涉及文件
### 后端
- `src/routes/execution-logs.ts` - 新建：执行日志 API 路由
- `src/services/execution-log-service.ts` - 新建：日志查询服务
- `src/utils/log-stream.ts` - 新建：日志流处理工具
- `src/routes/index.ts` - 修改：注册新路由

### 前端
- `src/pages/ExecutionLogs.tsx` - 新建：日志查看页面
- `src/components/logs/LogViewer.tsx` - 新建：日志查看器组件
- `src/components/logs/LogFilter.tsx` - 新建：日志筛选组件
- `src/components/logs/LogSearch.tsx` - 新建：日志搜索组件
- `src/services/log-api.ts` - 新建：日志 API 客户端
- `src/App.tsx` - 修改：添加日志页面路由

### 数据库
- 可能需要查询 `execution_logs` 表或类似的日志存储

## 成功标准
- [ ] 日志页面可以正常访问
- [ ] 日志实时流式展示正常工作
- [ ] 筛选功能可以按时间、任务 ID、状态过滤日志
- [ ] 搜索功能可以搜索日志内容
- [ ] 可以下载日志文件
- [ ] 自动滚动功能正常工作
- [ ] 日志级别过滤正常工作
- [ ] 页面响应式设计，移动端友好
- [ ] 性能良好，大量日志不卡顿

## 非目标
- 不实现日志分析功能
- 不实现日志告警功能
- 不实现多文件日志合并
- 不实现日志归档功能
- 不实现实时日志编辑功能

## 技术实现建议
1. 使用 WebSocket 或 Server-Sent Events (SSE) 实现日志流
2. 前端使用虚拟滚动处理大量日志
3. 日志筛选在后端实现，减少前端数据量
4. 使用缓存优化日志查询性能
5. 日志格式标准化，便于解析和展示
