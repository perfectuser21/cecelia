# PRD - 实现 Suggestion 队列+triage（新 DB 表，定期评估）

**需求来源**: 任务来自 Brain 自动调度，任务类型：dev

**功能描述**: 创建 suggestions 表，收集 Agent 返回的 findings/suggestions。实现 triage 逻辑：优先级评分、去重、定期写入 Brain tick 循环评估。

**涉及文件**:
- `packages/brain/sql/migrations/` - 创建 suggestions 表的迁移
- `packages/brain/src/routes/suggestions.js` - API 端点
- `packages/brain/src/suggestion-triage.js` - triage 逻辑实现
- `packages/brain/src/tick.js` - 集成到 tick 循环
- 测试文件和文档更新

**成功标准**:
1. suggestions 表已创建，包含必要字段（content, priority, source, status, created_at 等）
2. API 端点可以接收和存储 suggestions
3. triage 逻辑能够评分、去重和优先级排序
4. tick 循环定期处理 suggestions 队列
5. 所有功能都有相应的测试覆盖
6. 数据库迁移脚本正确执行

**非目标**:
- 不涉及前端 UI 实现
- 不修改现有 task/goal 数据结构
- 不实现复杂的 ML 算法，使用简单的规则评分